@page "/checkout/success"
@inject NavigationManager NavigationManager

<MudContainer MaxWidth="MaxWidth.Small" Class="mt-16">
    <MudPaper Elevation="4" Class="pa-8 text-center">
        <MudIcon Icon="@Icons.Material.Filled.CheckCircle" Color="Color.Success" Size="Size.Large" Class="mb-4" Style="font-size: 80px;" />
        
        <MudText Typo="Typo.h4" Class="mb-4">Patno zakoczona sukcesem! </MudText>
        
        <MudText Typo="Typo.body1" Class="mb-6">
            Dzikujemy za wypo偶yczenie sprztu. Twoja rezerwacja zostaa potwierdzona.
        </MudText>

        @if (!string.IsNullOrEmpty(SessionId))
        {
            <MudAlert Severity="Severity.Info" Class="mb-4">
                <MudText Typo="Typo.body2">
                    ID sesji patnoci: <code>@SessionId</code>
                </MudText>
            </MudAlert>
        }

        <MudText Typo="Typo.body2" Color="Color.Secondary" Class="mb-6">
            Szczeg贸y rezerwacji zostay wysane na Tw贸j adres email. <br />
            Mo偶esz teraz odebra sprzt w naszym punkcie.
        </MudText>

        <MudStack Row="true" Spacing="2" Justify="Justify.Center">
            <MudButton Variant="Variant.Filled" 
                       Color="Color.Primary" 
                       Href="/my-rentals"
                       StartIcon="@Icons.Material.Filled.Receipt">
                Moje wypo偶yczenia
            </MudButton>
            
            <MudButton Variant="Variant.Outlined" 
                       Color="Color.Primary" 
                       Href="/"
                       StartIcon="@Icons.Material.Filled.Home">
                Strona g贸wna
            </MudButton>
        </MudStack>
    </MudPaper>
</MudContainer>

@code {
    [Parameter]
    [SupplyParameterFromQuery(Name = "session_id")]
    public string? SessionId { get; set; }

    protected override void OnInitialized()
    {
        // TODO: Pobierz szczeg贸y patnoci z API u偶ywajc SessionId
        // TODO: Wywietl szczeg贸y rezerwacji
    }
}
